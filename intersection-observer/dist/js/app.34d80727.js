(function(t){function e(e){for(var r,c,a=e[0],s=e[1],l=e[2],p=0,f=[];p<a.length;p++)c=a[p],Object.prototype.hasOwnProperty.call(i,c)&&i[c]&&f.push(i[c][0]),i[c]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);u&&u(e);while(f.length)f.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,a=1;a<n.length;a++){var s=n[a];0!==i[s]&&(r=!1)}r&&(o.splice(e--,1),t=c(c.s=n[0]))}return t}var r={},i={app:0},o=[];function c(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=t,c.c=r,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)c.d(n,r,function(e){return t[e]}.bind(null,r));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],s=a.push.bind(a);a.push=e,a=a.slice();for(var l=0;l<a.length;l++)e(a[l]);var u=s;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),i=n("bc3a"),o=n.n(i),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"mod_block"},[t._v("IntersectionObserver 应用")]),n("banner"),n("list")],1)},a=[],s=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},l=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mod_banner"},[n("div",{staticClass:"banner"},[t._v("这是一个吸顶元素")])])}];n("4160"),n("159b");function u(t,e){var n=e,r=new IntersectionObserver((function(t){t.forEach((function(t){t.isIntersecting?n.style.cssText="":n.style.cssText="position: fixed; top: 0; left: 0"}))}),{threshold:1});r.observe(t)}var p={mounted:function(){u(document.querySelector(".mod_banner"),document.querySelector(".banner"))}},f=p,d=n("2877"),v=Object(d["a"])(f,s,l,!1,null,null,null),h=v.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mod_list"},[n("h3",{staticClass:"list_title"},[t._v("图文列表")]),t._l(t.list,(function(e,r){return n("div",{key:r,staticClass:"list_item"},[n("div",{staticClass:"cover"},[n("img",{staticClass:"cover",attrs:{lazyload:e.cover}})]),n("div",{staticClass:"info"},[n("h6",{staticClass:"title"},[t._v(t._s(e.title))]),n("p",{staticClass:"subtitle"},[t._v(t._s(e.subtitle))])])])})),t._m(0)],2)},g=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mod_loading"},[n("i",{staticClass:"icon_loading"})])}],m=(n("99af"),n("2909"));function _(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=new IntersectionObserver((function(t){t.forEach((function(t){if(t.isIntersecting){var e=t.target,r=e.getAttribute("lazyload");r&&e.setAttribute("src",r),n.unobserve(e)}}))}),{rootMargin:"0px 0px ".concat(e,"px 0px")});Array.prototype.forEach.call(t,(function(t){t.getAttribute("src")||n.observe(t)}))}var y={data:function(){return{list:[]}},methods:{getList:function(){var t=this;this.$ajax.get("list.json").then((function(e){e&&200===e.status&&(t.list=[].concat(Object(m["a"])(t.list),Object(m["a"])(e.data.list||[])),t.$nextTick((function(){_(document.querySelectorAll("[lazyload]"))})))})).catch((function(t){console.log(t)}))},loadMore:function(){var t=this,e=new IntersectionObserver((function(e){var n=e[0];n.isIntersecting&&t.getList()}),{rootMargin:"0px 0px 600px 0px"});e.observe(document.querySelector(".mod_loading"))}},created:function(){this.getList()},mounted:function(){this.loadMore()}},x=y,j=Object(d["a"])(x,b,g,!1,null,null,null),q=j.exports,O={name:"App",components:{banner:h,list:q}},w=O,C=(n("5c0b"),Object(d["a"])(w,c,a,!1,null,null,null)),z=C.exports,M=n("03a1"),S=n.n(M);S.a.setup({timeout:"10-100"});var $=function(){for(var t=[],e=0;e<10;e++){var n={id:e,cover:["https://puui.qpic.cn/vcover_hz_pic/0/mzc00200q06w7zx1585712510429/0","https://i.gtimg.cn/qqlive/img/jpgcache/files/qqvideo/hori/m/mzc002001pvxwzy_big.jpg","https://puui.qpic.cn/vcover_hz_pic/0/mzc00200ral2qx71585817879441/0","https://i.gtimg.cn/qqlive/img/jpgcache/files/qqvideohori/i/i200hs4ip5a6u7a_big.jpg","https://i.gtimg.cn/qqlive/img/jpgcache/files/qqvideo/hori/v/vbb35hm6m6da1wc_big.jpg"][Math.round(4*Math.random())],title:S.a.Random.ctitle(4,16),subtitle:S.a.Random.cparagraph(1,3),date:S.a.Random.datetime()};t.push(n)}return{list:t}};S.a.mock("list.json",/post|get/i,$),r["a"].config.productionTip=!1,r["a"].prototype.$ajax=o.a,new r["a"]({render:function(t){return t(z)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var r=n("9c0c"),i=n.n(r);i.a},"9c0c":function(t,e,n){}});
//# sourceMappingURL=app.34d80727.js.map